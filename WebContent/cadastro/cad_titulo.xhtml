<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:util="http://java.sun.com/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/templates/templatePrincipal.xhtml">
		<ui:define name="corpo">
			<h:form id="formCadastro" prependId="false">
				<p:panel header="Cadastro de Titulo" id="panelCadastro">
					<p:panelGrid id="gridFunc" columns="3">
						<p:column>
							<p:row>
								<h:outputLabel for="id" value="Código:" id="labelId" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText readonly="true" id="id" value="#{tituloBeanView.objetoSelecionado.titCodigo}" />
							</p:row>
						</p:column>
						<p:column />
						
						<p:column>
							<p:row>
								<h:outputLabel for="origem" value="Origem:" id="labelOrigem" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:selectOneMenu id="origem"
									value="#{tituloBeanView.objetoSelecionado.titOrigem}"
									required="true" requiredMessage="Informe a origem"
									style="width: 350px;">
									<f:selectItem itemLabel="Origem" itemValue="ORIGEM" />
									<f:selectItem itemLabel="Comissão" itemValue="COMISSAO" />
								</p:selectOneMenu>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="origem" />
							</p:row>
						</p:column>
						
						<p:column>
							<p:row>
								<h:outputLabel for="valor" value="Valor:" id="labelValor" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="valor"
									value="#{tituloBeanView.objetoSelecionado.titValor}"
									required="true" requiredMessage="Informe o Valor"
									style="width: 350px;">
									<f:convertNumber for="valor" type="number" />
								</p:inputText>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="valor" />
							</p:row>
						</p:column>
						
						<p:column>
							<p:row>
								<h:outputLabel for="dataHora" value="Data Hora:" id="labelDataHora" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="dataHora"
									value="#{tituloBeanView.objetoSelecionado.titDataHora}">
									<f:convertDateTime dateStyle="full" pattern="dd/MM/yyyy HH:mm:ss" />
								</p:inputText>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="dataHora" />
							</p:row>
						</p:column>
						
						<p:column>
							<p:row>
								<h:outputLabel for="baixado" value="Baixado:" id="labelBaixado" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:selectBooleanCheckbox id="baixado"
									value="#{tituloBeanView.objetoSelecionado.titBaixado}" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="baixado" />
							</p:row>
						</p:column>
						
						<p:column>
							<p:row>
								<h:outputLabel for="tipo" value="Tipo:" id="labelTipo" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:selectOneMenu id="tipo" value="#{tituloBeanView.objetoSelecionado.titTipo}"
									required="true" requiredMessage="Informe o tipo"
									maxlength="100"
									style="width: 350px;">
									<f:selectItem itemLabel="Receber" itemValue="RECEBER" />
									<f:selectItem itemLabel="Pagar" itemValue="PAGAR" />
								</p:selectOneMenu>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="tipo" />
							</p:row>
						</p:column>
						
						<p:column>
							<p:row>
								<h:outputLabel for="valorPago" value="Valor Pago:" id="labelValorPago" />
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:inputText id="valorPago"
									value="#{tituloBeanView.objetoSelecionado.titValorPago}"
									required="true" requiredMessage="Informe o valor pago">
									<f:convertNumber for="valorPago" type="number" pattern="##,00" />
								</p:inputText>
							</p:row>
						</p:column>
						<p:column>
							<p:row>
								<p:message for="valorPago" />
							</p:row>
						</p:column>
						
					</p:panelGrid>
				</p:panel>
				
				<util:botoesCrud managedBeanView="#{tituloBeanView}"
					camposReload=":formTemplate:msg, tableResult"
					botaoNovo="#{contextoBean.possuiAcesso('TITULO_NOVO', 'ADMIN')}"
					botaoSalvar="#{contextoBean.possuiAcesso('TITULO_NOVO', 'ADMIN') and tituloBeanView.objetoSelecionado.titCodigo == null}"
					botaoAtualizar="#{contextoBean.possuiAcesso('TITULO_EDITAR', 'ADMIN') and tituloBeanView.objetoSelecionado.titCodigo != null}"
					botaoExcluir="#{contextoBean.possuiAcesso('TITULO_EXCLUIR', 'ADMIN')}">
				</util:botoesCrud>
			</h:form>
			
			<p:dataTable id="tableResult" value="#{tituloBeanView.list.list}"
				var="objeto" rows="10" emptyMessage="Não existem dados para mostrar"
				paginator="true" lazy="true" paginatorTemplate="{FirstPageLink}"
				paginatorPosition="bottom">
				<ui:include src="/resources/components/colunasDataTableTitulo.xhtml" />
			</p:dataTable>
		</ui:define>
	</ui:composition>

</html>